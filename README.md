# clara-bot
定期的にAPIリクエストを行い、ボトルステータスが`false`であることを検知した場合にDiscordの指定されたチャンネルにボトル状況を投稿するDiscord Botです。`42_done`のリアクションを検知するとボトル交換者と交換までの時間を投稿し、対応したユーザー情報をデータベースへ格納します。全てが終了後、再び次のボトルステータスを問い合わせます。

## 前提条件
このプロジェクトを使用するには、Node.jsがシステムにインストールされている必要があります。また、`pnpm`または`npm`を使用して依存関係を管理します。

### `pnpm` のインストール
`pnpm`をまだインストールしていない場合は、[公式のインストールガイド](https://pnpm.io/installation)に従ってください。

### `npm` の使用
`npm`を使用して依存関係をインストールすることも可能です。

## インストール手順
1. このリポジトリをクローンします。
    ```bash
    git clone [リポジトリURL]
    cd [プロジェクトディレクトリ]
    ```

2. `src`ディレクトリ内で依存関係をインストールします。
    ```bash
    cd src
    pnpm install # または npm install
    ```

3. `.env.sample`ファイルをコピーして`.env`ファイルを作成し、適切なトークンを記入します。
    ```bash
    cp .env.sample .env
    ```

4. ボットを実行します。
    ```bash
    node bot.js
    ```

## 機能

- 定期的にGETリクエストを行い、ボトルステータスの変更を検知します。
- ボトルステータスが`false`になった場合、Discordの任意のチャンネルに投稿します。
- `42_done`のリアクションを検知するとボトル交換者と交換までの時間を投稿し、対応したユーザー情報をPOSTリクエストします。

## 貢献

プロジェクトへの貢献に興味がある方は、プルリクエストを送るか、[x](https://x.com/livspect)から連絡してください。
